<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Simple Map Sample</title>
<meta charset="utf-8">
<style>
/* マップを表示する div 要素の高さを必ず明示的に指定します。 */
#map {
  height: 400px;
  width: 600px;
}
</style>
</head>
  
<body>
<div id="map_canvas"></div><!-- 地図を表示する div 要素（id="map"）-->
<script>
  //サンプルマップ作成。東京タワーを中心地に指定
	var currentWindow = null;
	var sample = { 'x':'35.65858', 'y':'139.745433'};
	var latlng = new google.maps.LatLng(sample.x, sample.y);
	var myOptions = { zoom: 12, center: latlng, mapTypeId: google.maps.MapTypeId.ROADMAP };
	var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

	//ヒートマップ用のサンプルデータの作成
	var data = [
		{"surveyedPrice":1,pos:[139.745433,35.65858]}, //東京タワー
		{"surveyedPrice":2,pos:[139.73000000000002,35.66]}, //六本木ヒルズ
		{"surveyedPrice":3,pos:[139.76608399999998,35.681382]}, //東京駅
		{"surveyedPrice":3,pos:[139.68967299999997,35.758669]} //ときわ台
	];
	var bounds = new google.maps.LatLngBounds();
	var pos, populations = [];
	for (var i=0; i < data.length; i++) {
		pos = new google.maps.LatLng(data[i].pos[1], data[i].pos[0]);
		populations.push({
			location : pos,
			weight : data[i].surveyedPrice //ヒートマップの重み付けに使用するデータを指定
		})
		bounds.extend(pos); 
	}

	//ヒートマップレイヤの作成
	var heatmap = new google.maps.visualization.HeatmapLayer({
		radius:50 //ヒートマップの各ポイントの大きさ
	});

	//ヒートマップレイヤをマップに表示
	heatmap.setData(populations);
	heatmap.setMap(map);
</script> 
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsBCxLs7NHmyoNwKjRxHFrSxaybq1gOns&libraries=visualization" async defer></script>
</body>
</html>